
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://www.jspsych.org/v8/overview/building-surveys/">
      
      
        <link rel="prev" href="../eye-tracking/">
      
      
        <link rel="next" href="../exclude-browser/">
      
      
      <link rel="icon" href="../../img/jspsych-favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.26">
    
    
      
        <title>Building Surveys - jsPsych</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-50563838-1"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-50563838-1",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-50563838-1",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#building-surveys-in-jspsych" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="jsPsych" class="md-header__button md-logo" aria-label="jsPsych" data-md-component="logo">
      
  <img src="../../img/jspsych-logo-no-text-mono.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            jsPsych
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Building Surveys
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jspsych/jsPsych" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jspsych/jspsych
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="jsPsych" class="md-nav__button md-logo" aria-label="jsPsych" data-md-component="logo">
      
  <img src="../../img/jspsych-logo-no-text-mono.svg" alt="logo">

    </a>
    jsPsych
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jspsych/jsPsych" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jspsych/jspsych
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/hello-world/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Basics: Hello World
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/rt-task/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo Experiment: Simple Reaction Time Task
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/community-tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community Tutorials
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Overview
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating an Experiment: The Timeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic-parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controlling Visual Appearance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Storage, Aggregation, and Manipulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simulation Modes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running-experiments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Experiments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experiment-options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiment Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../record-browser-interactions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record Browser Interactions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media-preloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Media Preloading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fullscreen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fullscreen Experiments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eye-tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eye Tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Building Surveys
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Building Surveys
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choosing-which-jspsych-survey-plugin-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing which jsPsych survey plugin to use
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-surveyjs" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started with SurveyJS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started with SurveyJS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-survey-with-json" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a survey with JSON
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a survey with JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#survey-level-options" class="md-nav__link">
    <span class="md-ellipsis">
      Survey-level options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-javascript-to-create-or-modify-the-survey" class="md-nav__link">
    <span class="md-ellipsis">
      Using JavaScript to create or modify the survey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-json-and-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Combining JSON and function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deciding-between-json-and-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Deciding between JSON and function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-dynamic-surveys-with-json" class="md-nav__link">
    <span class="md-ellipsis">
      Creating dynamic surveys with JSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-survey-trialsquestions-programmatically" class="md-nav__link">
    <span class="md-ellipsis">
      Defining survey trials/questions programmatically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exclude-browser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exclude Participants Based on Browser Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../progress-bar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatic Progress Bar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prolific/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Prolific
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mturk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Mechanical Turk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../browser-device-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Browser and Device Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timing-accuracy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timing Accuracy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych.data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych-randomization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych.randomization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych-turk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych.turk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych-utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych.utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/jspsych-pluginAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsPsych.pluginAPI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/list-of-plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    List of Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/animation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    animation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/audio-button-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio-button-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/audio-keyboard-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio-keyboard-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/audio-slider-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    audio-slider-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/browser-check/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    browser-check
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/call-function/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    call-function
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/canvas-button-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    canvas-button-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/canvas-keyboard-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    canvas-keyboard-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/canvas-slider-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    canvas-slider-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/categorize-animation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    categorize-animation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/categorize-html/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    categorize-html
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/categorize-image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    categorize-image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/cloze/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cloze
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/external-html/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    external-html
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/free-sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    free-sort
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/fullscreen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fullscreen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/html-audio-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-audio-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/html-button-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-button-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/html-keyboard-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-keyboard-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/html-slider-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-slider-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/html-video-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    html-video-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/iat-html/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iat-html
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/iat-image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iat-image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/image-button-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    image-button-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/image-keyboard-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    image-keyboard-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/image-slider-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    image-slider-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/initialize-camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    initialize-camera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/initialize-microphone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    initialize-microphone
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    instructions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/maxdiff/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    maxdiff
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/mirror-camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mirror-camera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/preload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    preload
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/reconstruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reconstruction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/resize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    resize
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/same-different-html/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    same-different-html
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/same-different-image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    same-different-image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/serial-reaction-time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    serial-reaction-time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/serial-reaction-time-mouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    serial-reaction-time-mouse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/sketchpad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sketchpad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey-html-form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey-html-form
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey-likert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey-likert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey-multi-choice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey-multi-choice
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey-multi-select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey-multi-select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/survey-text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    survey-text
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/video-button-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    video-button-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/video-keyboard-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    video-keyboard-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/video-slider-response/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    video-slider-response
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/virtual-chinrest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    virtual-chinrest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/visual-search-circle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    visual-search-circle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/webgazer-calibrate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webgazer-calibrate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/webgazer-init-camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webgazer-init-camera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/webgazer-validate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webgazer-validate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extensions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Extensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/list-of-extensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    List of Extensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/mouse-tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mouse-tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/record-video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    record-video
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/webgazer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    webgazer
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building the Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to jsPsych
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/plugin-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plugin Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/extension-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extension Development
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Support
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../support/support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Help
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../support/migration-v7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from 6.x to 7.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../support/migration-v8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrating from 7.x to 8.x
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About jsPsych
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Newsletter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Newsletter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../newsletter/subscribe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subscribe
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#choosing-which-jspsych-survey-plugin-to-use" class="md-nav__link">
    <span class="md-ellipsis">
      Choosing which jsPsych survey plugin to use
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-surveyjs" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started with SurveyJS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started with SurveyJS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-survey-with-json" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a survey with JSON
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a survey with JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#survey-level-options" class="md-nav__link">
    <span class="md-ellipsis">
      Survey-level options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-javascript-to-create-or-modify-the-survey" class="md-nav__link">
    <span class="md-ellipsis">
      Using JavaScript to create or modify the survey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-json-and-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Combining JSON and function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deciding-between-json-and-function-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Deciding between JSON and function parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-dynamic-surveys-with-json" class="md-nav__link">
    <span class="md-ellipsis">
      Creating dynamic surveys with JSON
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-survey-trialsquestions-programmatically" class="md-nav__link">
    <span class="md-ellipsis">
      Defining survey trials/questions programmatically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="building-surveys-in-jspsych">Building Surveys in jsPsych<a class="headerlink" href="#building-surveys-in-jspsych" title="Permanent link">&para;</a></h1>
<h2 id="choosing-which-jspsych-survey-plugin-to-use">Choosing which jsPsych survey plugin to use<a class="headerlink" href="#choosing-which-jspsych-survey-plugin-to-use" title="Permanent link">&para;</a></h2>
<p>jsPsych has several plugins that allow you to present survey questions during your experiment. The one you choose will depend on what exactly you'd like to do, and your preferences for convenience/parameterization versus flexibility.</p>
<ul>
<li>Survey-* plugins: <a href="../../plugins/survey-likert/"><code>survey-likert</code></a>, <a href="../../plugins/survey-multi-choice/"><code>survey-multi-choice</code></a>, <a href="../../plugins/survey-multi-select/"><code>survey-multi-select</code></a>, <a href="../../plugins/survey-text/"><code>survey-text</code></a><ul>
<li>Only one question type and one page per trial</li>
<li>Parameterization makes it easy to define questions</li>
<li>Work well with <a href="../timeline/#timeline-variables">timeline variables</a></li>
<li>Ideal for adding survey-style questions into repetitive trial procedures</li>
<li>Limited functionality and customization options</li>
</ul>
</li>
<li><a href="../../plugins/survey-html-form/"><code>survey-html-form</code></a> plugin<ul>
<li>Can mix different question types on the same page</li>
<li>No parameters for defining questions - you write the form HTML</li>
<li>Maximally flexible, so ideal if you need a lot of control over the survey content and style</li>
</ul>
</li>
<li><a href="../../plugins/survey/"><code>survey</code></a> plugin<ul>
<li>Not well-suited for use with <a href="../timeline/#timeline-variables">timeline variables</a></li>
<li>Large set of built-in question types and parameterized customization options</li>
<li>Can mix different question types on the same page</li>
<li>Can present mutliple pages that participants can navigate back and forth through, without losing responses</li>
<li>Parameters for defining questions, but more config/code than the <code>survey-*</code> plugins</li>
<li>Built-in convenience parameters for many survey question types and features (e.g. response validation, conditional question display, 'other'/'none'/'select all' options)</li>
</ul>
</li>
</ul>
<p>The <a href="../../plugins/survey/"><code>survey</code> plugin</a> differs from most other jsPsych plugins in that is a simple wrapper for an external JavaScript library called SurveyJS. This allows jsPsych users to take advantage of all of the SurveyJS features, documentation, and example code, but it also means that the <code>survey</code> plugin does not follow the same familiar conventions as most other jsPsych plugins. Users will need to familiarize themselves somewhat with the SurveyJS library in order to use the plugin. The remaining documentation on this page provides some guidance for getting started with SurveyJS and the jsPsych <code>survey</code> plugin.</p>
<h2 id="getting-started-with-surveyjs">Getting started with SurveyJS<a class="headerlink" href="#getting-started-with-surveyjs" title="Permanent link">&para;</a></h2>
<p>The <a href="https://surveyjs.io/form-library/documentation/overview">SurveyJS form library</a> is a large and powerful survey-building framework with its own helpful documentation, examples, and demos. Here we have tried to orient jsPsych users to the basic steps for constructing surveys and highlight the features that jsPsych users may find most useful. However, it is not possible for us to reproduce the SurveyJS documentation here, so we encourage you to take advantage of their comprehensive documentation and demo/code examples.</p>
<p>SurveyJS allows you to build surveys using a JavaScript/JSON object, a JavaScript function, or a combination of both. You can read more about these options in the SurveyJS documentation:</p>
<ul>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-simple-survey#define-a-static-survey-model-in-json">Define a survey in JSON</a></li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-simple-survey#create-or-change-a-survey-model-dynamically">Define a survey with JavaScript</a></li>
</ul>
<p>The jsPsych <code>survey</code> plugin provides the <code>survey_json</code> and <code>survey_function</code> parameters to allow you to construct a SurveyJS survey using these JSON and JavaScript methods. The next two sections on this page explain more about each method: <a href="#creating-a-survey-with-json">Creating a survey with JSON</a> and <a href="#using-javascript-to-create-or-modify-the-survey">Using JavaScript to create or modify the survey</a>.</p>
<p>Here are some other places to start learning about SurveyJS:</p>
<ul>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-multi-page-survey#add-multiple-pages-to-a-survey">Add multiple pages to a survey</a></li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-multi-page-survey#configure-page-visibility">Configure conditional page visibility</a></li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-multi-page-survey#page-navigation-ui">Page navigation UI</a> (previous, next, and submit buttons)</li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/conditional-logic">Add conditional logic and dynamic texts</a></li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/pre-populate-form-fields#default-question-values">Set default values</a></li>
</ul>
<p>SurveyJS has some more specific features that some researchers might find useful, including:</p>
<ul>
<li><a href="https://surveyjs.io/form-library/examples/how-to-number-pages-and-questions/vanillajs">Automatic question numbering</a> (across the survey, within each page, and using custom values/characters)</li>
<li><a href="https://surveyjs.io/form-library/examples/javascript-form-validation/vanillajs">Response validation</a></li>
<li><a href="https://surveyjs.io/form-library/examples/table-of-contents/vanillajs">Table of contents and navigation across sections</a></li>
<li><a href="https://surveyjs.io/form-library/examples/configure-form-navigation-with-progress-indicators/vanillajs">Progress bar</a></li>
<li><a href="https://surveyjs.io/form-library/examples/carry-forward-responses/vanillajs">Carry responses forward from a selection question</a></li>
<li><a href="https://surveyjs.io/form-library/examples/pipe-answers-from-dynamic-matrix-or-panel/vanillajs">Carry responses forward from a dynamic matrix/panel</a></li>
<li><a href="https://surveyjs.io/form-library/documentation/design-survey/conditional-logic#conditional-visibility">Conditional visibility for elements/questions</a> (see also <a href="https://surveyjs.io/form-library/examples/implement-conditional-logic-to-change-question-visibility/vanillajs">this example</a>)</li>
<li>Special choices for multi-choice-type questions: <a href="https://surveyjs.io/form-library/documentation/api-reference/radio-button-question-model#showNoneItem">None</a>, <a href="https://surveyjs.io/form-library/documentation/api-reference/radio-button-question-model#showOtherItem">Other</a>, <a href="https://surveyjs.io/form-library/documentation/api-reference/checkbox-question-model#showSelectAllItem">Select All</a>, <a href="https://surveyjs.io/form-library/documentation/api-reference/radio-button-question-model#showRefuseItem">Refuse to answer</a>, and <a href="https://surveyjs.io/form-library/documentation/api-reference/radio-button-question-model#showDontKnowItem">Don't know</a></li>
<li><a href="https://surveyjs.io/form-library/examples/survey-localization/vanillajs">Localization</a> (adapting the survey's language based on a country/region value)</li>
<li><a href="https://surveyjs.io/form-library/examples/text-piping-in-surveys/vanillajs">Text piping</a> (dynamically insert text into questions/answers based on previous responses)</li>
</ul>
<p>You can find realistic examples on the <a href="https://surveyjs.io/form-library/examples/overview">SurveyJS examples/demos page</a>. And to view all of the survey-level options, see the <a href="https://surveyjs.io/form-library/documentation/api-reference/survey-data-model">Survey API documentation</a>.</p>
<h3 id="creating-a-survey-with-json">Creating a survey with JSON<a class="headerlink" href="#creating-a-survey-with-json" title="Permanent link">&para;</a></h3>
<p>SurveyJS allows you to define the survey contents using an object with parameters names and values. At a minimum, the survey JSON object should contain a property called 'elements'. The value of 'elements' is an array that contains at least one element/question to be shown on the page.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Survey with a single text entry question.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">survey_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;example&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter some text in the box below!&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">};</span>
</code></pre></div>
<p>Each element is an object with a 'type', which is the element/question type (see the <code>survey</code> plugin's <a href="../../plugins/survey/#questionelement-types">Questions/Elements section</a> for a list of type options). The element objects should also contain any other parameters and configuration options for that question, such as the question name (used to identify the question in the data), title (prompt shown to the participant), whether or not a response is required, and other parameters that might be relevant to that particular question type. The <a href="../../plugins/survey/#questionelement-types">Questions/Elements section</a> in the <code>survey</code> plugin documentation contains links to the SurveyJS documentation for each question type, where you can find more information about the required and optional parameters.</p>
<p>Once you've created the survey JSON object, as we've done above, it can be used as the <code>survey_json</code> parameter in a jsPsych <code>survey</code> trial:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">survey_trial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">  </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="nx">survey_json</span>
<span class="p">};</span>

<span class="nx">timeline</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">survey_trial</span><span class="p">);</span>
</code></pre></div>
<p>That's it! The code above will create a valid survey.</p>
<div class="admonition note">
<p class="admonition-title">JSON vs JavaScript objects</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON">JSON (JavaScript Object Notation)</a> is a text format for organizing data. It is very similar to a JavaScript object, but not exactly the same. The <code>survey_json</code> parameter takes a JSON-compatible JavaScript object, rather than a JSON string. We use the 'JSON' term for this parameter to make it clear that this parameter should not contain functions, and for consistency with SurveyJS documentation. To read more about JSON vs JavaScript objects, see e.g. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#javascript_and_json_differences">here</a> and <a href="https://www.w3schools.com/js/js_json_intro.asp">here</a>.</p>
</div>
<h4 id="multiple-pages">Multiple pages<a class="headerlink" href="#multiple-pages" title="Permanent link">&para;</a></h4>
<p>You can specify 'elements' as a top-level property in the survey JSON, and those elements will be shown on a single page. If you'd like the survey to have more than one page, then you can add a 'pages' property to the survey JSON object. The value of 'pages' should be an array of objects, where each object defines a single page. Each page object should contain its own 'elements' array. </p>
<p>The example below defines a survey with two pages. Each page has a set of elements/questions, as well as some optional parameters (page name and title).</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">survey_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">pages</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;page_1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Your Name&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter your first name:&quot;</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;last_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter your last name:&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;page_2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Personal Information&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;location&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Where do you live?&quot;</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;occupation&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;What is your occupation?&quot;</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;age&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;How old are you?&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">inputType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">120</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">};</span>
</code></pre></div>
<h4 id="survey-level-options">Survey-level options<a class="headerlink" href="#survey-level-options" title="Permanent link">&para;</a></h4>
<p>Along with either the 'elements' or 'pages' property, you can add optional survey-level properties to the top-level of your survey JSON object. The survey-level properties might include things like: a title (shown at the top of each page), whether to use automatic question numbering, labels for the page navigation buttons, and text to use for marking required questions. These and other survey-level parameters are not required - you only need to set these values if you want to change them from the defaults.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">survey_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Survey title&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Done&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">pageNextText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">pagePrevText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Back&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">requiredText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;[REQUIRED]&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">pages</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ... page 1 questions</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ... page 2 questions</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">};</span>
</code></pre></div>
<p>Some of the survey-level options can also be set a the page level. See the <a href="https://surveyjs.io/form-library/documentation/api-reference/page-model">Page API documentation</a> for more information.</p>
<p>For more survey JSON examples, see the <a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-simple-survey#define-a-static-survey-model-in-json">SurveyJS JSON documentation</a>, the <a href="../../plugins/survey/#examples">Examples</a> section on the <code>survey</code> plugin documentation page, and the <a href="https://github.com/jspsych/jsPsych/tree/main/packages/plugin-survey">examples folder</a> in the <code>survey</code> plugin package.</p>
<h3 id="using-javascript-to-create-or-modify-the-survey">Using JavaScript to create or modify the survey<a class="headerlink" href="#using-javascript-to-create-or-modify-the-survey" title="Permanent link">&para;</a></h3>
<p>SurveyJS allows you to create or modify your survey using JavaScript. The JavaScript approach can do any of the configuration that can be done in JSON, plus it allows you to make your survey more dynamic. For instance, you could use the survey function parameter to change the contents of the survey based on the participant's earlier responses. The survey function parameter also allows you to define any other functions that should run during the survey. For instance, you might want to run custom code in response to a page change or response input event.</p>
<p>In the jsPsych <code>survey</code> plugin, the <code>survey_function</code> parameter receives a 'survey' argument, which is a SurveyJS survey model that you can manipulate. If you do not include a value for the <code>survey_json</code> parameter, then the <code>survey_function</code> will receive an empty survey. In this case, your <code>survey_function</code> must add at least one page with at least one element/question to produce a valid survey.</p>
<p>Here's the JavaScript function that would create the same survey that's defined in the first JSON example above:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">survey_function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">survey</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// add page</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">survey</span><span class="p">.</span><span class="nx">addNewPage</span><span class="p">(</span><span class="s2">&quot;page1&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// add question</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">text_question</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">addNewQuestion</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;example&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">text_question</span><span class="p">.</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Enter some text in the box below!&quot;</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">survey_trial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">  </span><span class="nx">survey_function</span><span class="o">:</span><span class="w"> </span><span class="nx">survey_function</span>
<span class="p">};</span>

<span class="nx">timeline</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">survey_trial</span><span class="p">);</span>
</code></pre></div>
<h3 id="combining-json-and-function-parameters">Combining JSON and function parameters<a class="headerlink" href="#combining-json-and-function-parameters" title="Permanent link">&para;</a></h3>
<p>If you specify survey JSON using the <code>survey_json</code> parameter, then the <code>survey_function</code> will receive a survey object that was created using your JSON. This means that, in your survey function, you can access all of the survey elements that you have defined in the JSON.</p>
<p>Here's a slightly more realistic case for when you might want to use the <code>survey_function</code> parameter. In this example, we want to ask the participant to make a color choice at the start of the experiment, and then reference their choice in a later <code>survey</code> trial question. We can't do this with the JSON configuration because we cannot know the participant's color choice in advance - it only becomes available during the experiment. </p>
<p>However, we can use the <code>survey_function</code> to dynamically access the participant's color response from the jsPsych data and use that value in the survey question title. We'll use the <code>survey_function</code> just for this one dynamic part of the survey, and define everything else in JSON.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Create an array of color choices</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">color_choices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;blue&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;pink&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;purple&#39;</span><span class="p">];</span>

<span class="c1">// Create an html-button-response trial where the participant can choose a color</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">select_color_trial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlButtonResponse</span><span class="p">,</span>
<span class="w">  </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;&lt;p&gt;Which of these is your favorite color?&lt;/p&gt;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="nx">color_choices</span><span class="p">,</span>
<span class="w">  </span><span class="nx">button_html</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">choice</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`&lt;button class=&quot;jspsych-btn&quot; style=&quot;color:</span><span class="si">${</span><span class="nx">choice</span><span class="si">}</span><span class="sb">;&quot;&gt;%choice%&lt;/button&gt;`</span><span class="p">,</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">trial_id</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;color_trial&#39;</span><span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Create the survey JSON </span>
<span class="kd">const</span><span class="w"> </span><span class="nx">color_survey_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">renderAs</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;radio&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;color_confirmation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="c1">// This value will be set in the survey function</span>
<span class="w">  </span><span class="p">}]</span>
<span class="p">};</span>

<span class="c1">// Create a survey function to access the participant&#39;s response </span>
<span class="c1">// from an earlier trial and modify the survey accordingly</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">color_survey_function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">survey</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Get the earlier color selection response (button index) from the jsPsych data</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">color_choice_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">get</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="nx">trial_id</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;color_trial&#39;</span><span class="p">}).</span><span class="nx">values</span><span class="p">()[</span><span class="mf">0</span><span class="p">].</span><span class="nx">response</span><span class="p">;</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">color_choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">color_choices</span><span class="p">[</span><span class="nx">color_choice_index</span><span class="p">];</span>
<span class="w">  </span><span class="c1">// Get the question that we want to modify</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">color_confirmation_question</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">survey</span><span class="p">.</span><span class="nx">getQuestionByName</span><span class="p">(</span><span class="s1">&#39;color_confirmation&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// Change the question title to include the name of the color that was selected</span>
<span class="w">  </span><span class="nx">color_confirmation_question</span><span class="p">.</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">    Earlier you chose </span><span class="si">${</span><span class="nx">color_choice</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">. Do you still like that color?</span>
<span class="sb">  `</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Create the jsPsych survey trial using both the survey JSON and survey function</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">color_survey_trial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">  </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="nx">color_survey_json</span><span class="p">,</span>
<span class="w">  </span><span class="nx">survey_function</span><span class="o">:</span><span class="w"> </span><span class="nx">color_survey_function</span>
<span class="p">};</span>

<span class="nx">jsPsych</span><span class="p">.</span><span class="nx">run</span><span class="p">([</span><span class="nx">select_color_trial</span><span class="p">,</span><span class="w"> </span><span class="nx">color_survey_trial</span><span class="p">]);</span>
</code></pre></div>
<p>For more information about creating/modifying surveys with JavaScript, see the <a href="https://surveyjs.io/form-library/documentation/design-survey/create-a-simple-survey#create-or-change-a-survey-model-dynamically">SurveyJS documentation</a>. The SurveyJS API reference contains all of the properties (parameters), methods, and events you can use when working with the survey, page, and question objects.</p>
<h3 id="deciding-between-json-and-function-parameters">Deciding between JSON and function parameters<a class="headerlink" href="#deciding-between-json-and-function-parameters" title="Permanent link">&para;</a></h3>
<p>You can create <code>survey</code> trials entirely with JSON, entirely with a JavaScript function, or using a combination of both. Sometimes this is just a matter of preference. But you must use the JavaScript <code>survey_function</code> method when you want to:</p>
<ul>
<li>Dynamically modify the survey based on a participant's response from an earlier trial, or any other information you don't have access to before the survey trial begins.</li>
<li>Use custom functions as part of your survey's configuration. For instance, you might want to write a function that is triggered by a particular survey event, such as when response values change or when the survey is completed. You cannot put JavaScript functions into the <code>survey_json</code> object, so you will need to add them using the <code>survey_function</code> parameter.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Custom response validation</p>
<p>There is a special case where you don't need to use the <code>survey_function</code> parameter for running a custom function, which is for adding custom response validation. The <code>survey</code> plugin includes a convenience parameter called <code>validation_function</code>, which allows you to add some custom JavaScript code to validate responses. Of course, you can also use the <code>survey_function</code> parameter for this, in which case you would set your custom function to run in response to the survey's <a href="https://surveyjs.io/form-library/documentation/api-reference/survey-data-model#onValidateQuestion"><code>onValidateQuestion</code></a> event.</p>
</div>
<h3 id="creating-dynamic-surveys-with-json">Creating dynamic surveys with JSON<a class="headerlink" href="#creating-dynamic-surveys-with-json" title="Permanent link">&para;</a></h3>
<p>Although you cannot include JavaScript functions as values in your <code>survey_json</code>, SurveyJS has implemented some convenience options for setting up certain kinds of dynamic survey behavior from within the JSON configuration. For instance, you can define a condition expression from within the JSON that will dynamically show/hide a question or choice/column/row (see <a href="https://surveyjs.io/form-library/documentation/design-survey/conditional-logic#conditional-visibility">Conditional Visibility</a> and <a href="https://surveyjs.io/form-library/documentation/design-survey/conditional-logic#expressions">Expressions</a>). As another example, you can use a placeholder value inside a text string to insert the response from a particular question into that string (see <a href="https://surveyjs.io/form-library/documentation/design-survey/conditional-logic#question-values">Dynamic Texts: Question Values</a>).</p>
<p>In general, you can access information in the survey JSON that exists <em>within that same <code>survey</code> trial</em> and use it to produce dynamic behavior (e.g. putting placeholder values in text strings, automatically populating choice values, etc.). But if you need to access information that becomes available during the experiment but <em>outside of that particular <code>survey</code> trial</em>, you will need to use the <code>survey_function</code> parameter. </p>
<h3 id="defining-survey-trialsquestions-programmatically">Defining survey trials/questions programmatically<a class="headerlink" href="#defining-survey-trialsquestions-programmatically" title="Permanent link">&para;</a></h3>
<p>Sometimes it's useful to be able to create your survey content programmatically. For instance, let's say you want to present a page with questions that all use the exact same format but with different prompts. You <em>could</em> define them one-by-one in a <code>survey_json</code> object, but doing it this way might produce a very large JSON object with lots of repeated configuration across all questions. </p>
<p>Instead, it's often preferrable to separate the information that changes across questions from the things that stay the same. This can make it easier to make changes and prevent errors, since the things that are common across questions only need to be defined once. Similarly, if you are repeating a trial procedure lots of times, then you might want to define a single <code>survey</code> trial that repeats with slightly different parameters. </p>
<p>The following section presents some different options for programmatically defining multiple questions in a survey trial, or multiple survey trials, based on an array of values that should change across questions or trials.</p>
<p>One option is to try the new <a href="https://surveyjs.io/form-library/examples/loop-and-merge/vanillajs">SurveyJS loop and merge feature</a> (available as of <code>survey</code> plugin v3.0.0). This feature allows you to create a predefined number of question loops by linking each question loop to a row in a single- or multi-select matrix. Or, you can use a dynamic matrix or dynamic panel to generate question loops in response to participants' responses (e.g. repeat a set of questions for each choice that they selected in a checkbox question).</p>
<p>Another, more flexible option is to use JavaScript to dynamically generate your survey structure. The example below shows how to use the <code>survey_function</code> to loop over a set of question-level variables (titles/prompts and names), and dynamically add each question to a single survey page. You could use this same approach to add questions across multiple pages within the same survey trial.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">survey_function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">survey</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">  </span><span class="c1">// this array stores any information that changes across questions</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">questions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Question 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;q1&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Question 2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;q2&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="c1">// ... more question-level variables ...</span>
<span class="w">    </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Question N&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;qN&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="c1">// create a single page</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">survey</span><span class="p">.</span><span class="nx">addNewPage</span><span class="p">(</span><span class="s2">&quot;questions&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">questions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// for each object in the questions array,</span>
<span class="w">    </span><span class="c1">// create a new question and add it to the same page</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="nx">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">addNewQuestion</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">questions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="p">);</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">questions</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">title</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">inputType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;range&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">min</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">100</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">50</span><span class="p">;</span>
<span class="w">    </span><span class="nx">q</span><span class="p">.</span><span class="nx">isRequired</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Use the 'matrix' question type for repeated response options</p>
<p>The example above was used to illustrate how you can loop over information to programmatically construct a series of questions that are shown on the same page. But in cases where you have different question prompts that all use the same multiple choice options, you might prefer to use the the SurveyJS <a href="https://surveyjs.io/form-library/examples/single-selection-matrix-table-question/vanillajs">"matrix" question type</a>. This question type creates a table where each row is a question and each column is a response option. The table format is often used for Likert scales, satisfaction surveys, etc. You can even create a table that repeats a set of questions with different response types using the SurveyJS <a href="https://surveyjs.io/form-library/examples/multi-select-matrix-question/vanillajs">multi-select matrix</a> ("matrixdropdown") question type.</p>
</div>
<p>Rather than repeating a question format within the same trial, perhaps you want to use trial-level variables to generate separate <code>survey</code> trials, for instance in order to incorporate them into a larger repeating trial procedure. jsPsych's <a href="../timeline/#timeline-variables">timeline variables</a> feature was designed to address this use case, but the use of timeline variables looks a little different with the <code>survey</code> plugin. This is because the various individual parameters that you might want to change across <code>survey</code> trials don't have their own plugin parameters - instead everything is nested within the <code>survey_json</code> parameter. Below are some examples showing how you can programmatically generate survey trials using a set of trial-level variables.</p>
<ol>
<li>
<p><strong>Use the conventional timeline variables approach with the <code>survey_json</code> parameter.</strong> This approach is probably not ideal, because the timeline variables array has to contain the entire <code>survey_json</code> object for each trial. This kind of defeats the purpose of timeline variables, because you are still defining all of the survey JSON separately for each question/trial. In any case, here's what it looks like:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">word_trials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">timeline</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;survey_json&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">timeline_variables</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cheese&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter a word related to CHEESE:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">autocomplete</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">focusFirstQuestionAutomatic</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ring&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter a word related to RING:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">autocomplete</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">focusFirstQuestionAutomatic</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bat&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter a word related to BAT:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">autocomplete</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">focusFirstQuestionAutomatic</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cow&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Enter a word related to COW:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">autocomplete</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">focusFirstQuestionAutomatic</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Consider using a survey-* plugin for presenting a single question type</p>
<p>The example above was created just to demonstrate how to combine the <code>survey</code> plugin and timeline variables. But if this were a real experiment, since each survey trial contains just one question, we'd be better off using one of the other survey-* plugins because the parameterization of those plugins works well with timeline variables. Of course, you may have other reasons for wanting to use the <code>survey</code> plugin in this type of trial procedure, for instance to take advantage of some its convenience features (e.g. different question types on the same page, response validation).</p>
</div>
</li>
<li>
<p><strong>Use jsPsych's <a href="https://www.jspsych.org/7.3/overview/dynamic-parameters/#dynamic-parameters">functions-as-parameters</a> approach for the <code>survey_json</code> parameter.</strong> With this approach, instead of defining a static JSON object for the value of <code>survey_json</code>, you would write a <em>function</em> that returns the survey JSON object for that specific trial. </p>
<p>This approach allows you to define the survey content using a combination of variable and static values. Also, jsPsych will run this function right before the trial begins, which means that you can change the survey content dynamically based on information that only becomes available during the experiment. Here's an example using timeline variables, though you can use the same approach to dynamically create the survey content without using timeline variables.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">word_trials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">timeline</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_json</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// This is a function that dynamically creates the JSON configuration for each trial.</span>
<span class="w">        </span><span class="c1">// Inside the function, you can access timeline variables, jsPsych data, and other global variables</span>
<span class="w">        </span><span class="c1">// that you define. This function will be called right before the trial starts.</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">this_trial_json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">          </span><span class="nx">elements</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">              </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="sb">`Enter a word related to </span><span class="si">${</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">evaluteTimelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">:`</span><span class="p">,</span><span class="w"> </span>
<span class="w">              </span><span class="nx">autocomplete</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="w"> </span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">],</span><span class="w"> </span>
<span class="w">          </span><span class="nx">completeText</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">          </span><span class="nx">focusFirstQuestionAutomatic</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">this_trial_json</span><span class="p">;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">timeline_variables</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cheese&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ring&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bat&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cow&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
</li>
<li>
<p><strong>Use the <code>survey_function</code> parameter.</strong> You can reference trial-level variables from inside this function, so the general idea here is the same as the example above. The difference is that here you are using SurveyJS's JavaScript API syntax to create the survey content, instead of the JSON configuration. Again, this could be done without timeline variables, but this example uses timeline variables for convenience:</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">create_word_survey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">survey</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Create question using timeline variables</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">survey</span><span class="p">.</span><span class="nx">addNewPage</span><span class="p">(</span><span class="s1">&#39;page1&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">question</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">addNewQuestion</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">);</span><span class="w"> </span>
<span class="w">  </span><span class="nx">question</span><span class="p">.</span><span class="nx">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`Enter a word related to </span><span class="si">${</span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">evaluateTimelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="w">  </span><span class="nx">question</span><span class="p">.</span><span class="nx">autocomplete</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;off&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="c1">// Set survey-level parameters</span>
<span class="w">  </span><span class="nx">survey</span><span class="p">.</span><span class="nx">completeText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Next&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">survey</span><span class="p">.</span><span class="nx">focusFirstQuestionAutomatic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">word_trials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">timeline</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">500</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychHtmlKeyboardResponse</span><span class="p">,</span>
<span class="w">      </span><span class="nx">stimulus</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nx">choices</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;NO_KEYS&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">trial_duration</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsychSurvey</span><span class="p">,</span>
<span class="w">      </span><span class="nx">survey_function</span><span class="o">:</span><span class="w"> </span><span class="nx">create_word_survey</span><span class="p">,</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="nx">jsPsych</span><span class="p">.</span><span class="nx">timelineVariable</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nx">timeline_variables</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cheese&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ring&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;bat&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">word</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;cow&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
</li>
</ol>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2012-2022 Josh de Leeuw
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/jspsych" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/joshdeleeuw" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>